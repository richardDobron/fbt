(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{148:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/phpstorm-06bfa3ee831f873f33fe6b391e3d02e6.png"},75:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return b})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return s}));var a=n(1),r=n(6),l=(n(0),n(87)),b={id:"getting_started",title:"Integrating into your app",sidebar_label:"Getting started"},i={unversionedId:"getting_started",id:"getting_started",isDocsHomePage:!1,title:"Integrating into your app",description:"We recommend you read the best practices for advice on how to best prepare your applications. We strongly encourage you to do so.",source:"@site/..\\docs\\getting_started.md",slug:"/getting_started",permalink:"/fbt/docs/getting_started",version:"current",lastUpdatedBy:"Richard Dobro\u0148",lastUpdatedAt:1693241492,sidebar_label:"Getting started",sidebar:"docs",next:{title:"Platform Internationalization Best Practices",permalink:"/fbt/docs/best_practices"}},o=[{value:"\ud83d\udce6 Installing",id:"-installing",children:[]},{value:"\ud83d\udd27 Configuration",id:"-configuration",children:[{value:"Options",id:"options",children:[]}]},{value:"\ud83d\ude4b IntlInterface",id:"-intlinterface",children:[]},{value:"\ud83d\ude80 Artisan Commands",id:"-artisan-commands",children:[]},{value:"\ud83d\udcd8 API",id:"-api",children:[]},{value:"\ud83c\udfa8 Blade Directives",id:"-blade-directives",children:[{value:"@fbtTransform &amp; @endFbtTransform",id:"fbttransform--endfbttransform",children:[]},{value:"@fbt",id:"fbt",children:[]},{value:"Encoding in Blade",id:"encoding-in-blade",children:[]},{value:"PhpStorm integration",id:"phpstorm-integration",children:[]}]}],c={rightToc:o};function s(e){var t=e.components,b=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},c,b,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"We recommend you read the ",Object(l.b)("a",Object(a.a)({parentName:"p"},{href:"/fbt/docs/best_practices"}),"best practices")," for advice on how to best prepare your applications. We strongly encourage you to do so."),Object(l.b)("h2",{id:"-installing"},"\ud83d\udce6 Installing"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"$ composer require richarddobron/laravel-fbt\n")),Object(l.b)("p",null,"These steps are required:"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Publish config file:",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("em",{parentName:"li"},"We recommend setting the ",Object(l.b)("strong",{parentName:"em"},"author")," and ",Object(l.b)("strong",{parentName:"em"},"project")," options in /config/fbt.php."))))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),'$ php artisan vendor:publish --provider="fbt\\LaravelPackage\\FbtServiceProvider" --tag=fbt-config\n')),Object(l.b)("ol",{start:2},Object(l.b)("li",{parentName:"ol"},"Run migrations:")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"$ php artisan migrate\n")),Object(l.b)("h2",{id:"-configuration"},"\ud83d\udd27 Configuration"),Object(l.b)("h3",{id:"options"},"Options"),Object(l.b)("p",null,"The following options can be defined:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"project")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"website app"),") Project to which the text belongs"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"author")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": Text author"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"preserveWhitespace")," ",Object(l.b)("inlineCode",{parentName:"li"},"bool"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"false"),")",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"FBT normally consolidates whitespace down to one space (",Object(l.b)("inlineCode",{parentName:"li"},"' '"),")."),Object(l.b)("li",{parentName:"ul"},"Turn this off by setting this to ",Object(l.b)("inlineCode",{parentName:"li"},"true")))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"viewerContext")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"\\fbt\\Runtime\\Shared\\IntlViewerContext::class"),")"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"locale")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"en_US"),") User locale."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"fbtCommon")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"[]"),") common string's, e.g. ",Object(l.b)("inlineCode",{parentName:"li"},"[['text' => 'desc'], ...]")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"fbtCommonPath")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"null"),") Path to the common string's module.")),Object(l.b)("p",null,"Below are the less important parameters."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"logger")," ",Object(l.b)("inlineCode",{parentName:"li"},"bool"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"false"),") Logging of string impressions."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"collectFbt")," ",Object(l.b)("inlineCode",{parentName:"li"},"bool"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"true"),") Collect fbt instances from the source and store them in a database or a JSON file."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"hash_module")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"md5"),") Hash module."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"md5_digest")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"hex"),") MD5 digest."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"driver")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": (Default: ",Object(l.b)("inlineCode",{parentName:"li"},"json"),") Driver."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"path")," ",Object(l.b)("inlineCode",{parentName:"li"},"string"),": Cache storage path for generated translations & source strings.")),Object(l.b)("h2",{id:"-intlinterface"},"\ud83d\ude4b IntlInterface"),Object(l.b)("p",null,"Optional implementation of IntlInterface on User Model."),Object(l.b)("p",null,"Example code:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"<?php\n\nnamespace App\\Models\\Auth;\n\nuse fbt\\Transform\\FbtTransform\\Translate\\IntlVariations;\nuse fbt\\Lib\\IntlViewerContextInterface;\nuse fbt\\Runtime\\Gender;\n\nclass User extends Authenticatable implements IntlViewerContextInterface\n{\n    public function getLocale(): string\n    {\n        return $this->locale;\n    }\n\n    public function getGender(): int\n    {\n        if ($this->gender === 'male') {\n            return IntlVariations::GENDER_MALE;\n        }\n\n        if ($this->gender === 'female') {\n            return IntlVariations::GENDER_FEMALE;\n        }\n\n        return IntlVariations::GENDER_UNKNOWN;\n    }\n}\n")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Note:")," ",Object(l.b)("inlineCode",{parentName:"p"},"auth()->user()")," will be attached to ",Object(l.b)("inlineCode",{parentName:"p"},"viewerContext")," automatically."),Object(l.b)("h2",{id:"-artisan-commands"},"\ud83d\ude80 Artisan Commands"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"This command collects FBT strings across whole application in PHP files.")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"php artisan fbt:collect-fbts\n")),Object(l.b)("p",null,"Read more about ",Object(l.b)("a",Object(a.a)({parentName:"p"},{href:"/fbt/docs/collection"}),"FBTs extracting"),"."),Object(l.b)("ol",{start:2},Object(l.b)("li",{parentName:"ol"},"This command generates the missing translation hashes from collected source strings.")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"php artisan fbt:generate-translations\n")),Object(l.b)("ol",{start:3},Object(l.b)("li",{parentName:"ol"},"This command creates translation payloads stored in database/JSON file.")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"php artisan fbt:translate\n")),Object(l.b)("p",null,"Read more about ",Object(l.b)("a",Object(a.a)({parentName:"p"},{href:"/fbt/docs/translating"}),"translating"),"."),Object(l.b)("h2",{id:"-api"},"\ud83d\udcd8 API"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/api_intro"}),"fbt(...);")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/params"}),"fbt::param(...);")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/enums"}),"fbt::enum(...);")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/params"}),"fbt::name(...);")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/plurals"}),"fbt::plural(...);")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/pronouns"}),"fbt::pronoun(...);")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/params"}),"fbt::sameParam(...);")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/common"}),"fbt::c(...);"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"echo fbt('You just friended ' . \\fbt\\fbt::name('name', 'Sarah', 2 /* gender */), 'names');\n")),Object(l.b)("h2",{id:"-blade-directives"},"\ud83c\udfa8 Blade Directives"),Object(l.b)("h3",{id:"fbttransform--endfbttransform"},"@fbtTransform & @endFbtTransform"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"@fbtTransform"),": ",Object(l.b)("em",{parentName:"p"},"This directive will turn output buffering on. While output buffering is active no output is sent from the script (other than headers), instead the output is stored in an internal buffer.")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"@endFbtTransform"),": ",Object(l.b)("em",{parentName:"p"},"This directive will send the contents of the topmost output buffer (if any) and turn this output buffer off.")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),'@fbtTransform\n   ...\n   <fbt desc="auto-wrap example">\n     Go on an\n     <a href="#">\n       <span>awesome</span> vacation\n     </a>\n   </fbt>\n   ...\n@endFbtTransform\n\n// result: Go on an <a href="#"><span>awesome</span> vacation</a>\n')),Object(l.b)("h3",{id:"fbt"},"@fbt"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"@fbt(\n [\n  'Go on an ',\n  \\fbt\\createElement('a', \\fbt\\createElement('span', 'awesome'), ['href' => '#']),\n  ' vacation',\n ],\n 'It\\'s simple',\n ['project' => \"foo\"]\n)\n\n// result: Go on an <a href=\"#\"><span>awesome</span> vacation</a>\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"@fbt('You just friended ' . \\fbt\\fbt::name('name', 'Sarah', 2 /* gender */), 'names')\n\n// result: You just friended Sarah\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"@fbt('A simple string', 'It\\'s simple', ['project' => \"foo\"])\n\n// result: A simple string\n")),Object(l.b)("h3",{id:"encoding-in-blade"},"Encoding in Blade"),Object(l.b)("p",null,"using ",Object(l.b)("inlineCode",{parentName:"p"},"\\fbt\\LaravelPackage\\fbt")," function"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"$htmlText = \\fbt\\LaravelPackage\\fbt('<strong>STRONG</strong> text', 'HTML text');\n\n{{ $htmlText }}\n// result: <strong>STRONG</strong> text\n\n{!! $htmlText !!}\n// result: <strong>STRONG</strong> text\n")),Object(l.b)("p",null,"using ",Object(l.b)("inlineCode",{parentName:"p"},"\\fbt")," function"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"$htmlText = \\fbt('<strong>STRONG</strong> text', 'HTML text');\n\n{{ $htmlText }}\n// result: &amp;lt;strong&amp;gt;STRONG&amp;lt;/strong&amp;gt; text\n\n{!! $htmlText !!}\n// result: <strong>STRONG</strong> text\n")),Object(l.b)("h3",{id:"phpstorm-integration"},"PhpStorm integration"),Object(l.b)("p",null,"The PhpStorm IDE can recognize the custom Blade directive if is set in ",Object(l.b)("em",{parentName:"p"},"File > Settings > Languages & Frameworks > PHP >\nBlade > Directives")," by adding a new one with the following properties:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Name: fbt"),Object(l.b)("li",{parentName:"ul"},"Has parameters: yes"),Object(l.b)("li",{parentName:"ul"},"Prefix: <?php echo \\fbt("),Object(l.b)("li",{parentName:"ul"},"Suffix: ); ?>")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Name: fbs"),Object(l.b)("li",{parentName:"ul"},"Has parameters: yes"),Object(l.b)("li",{parentName:"ul"},"Prefix: <?php echo \\fbs("),Object(l.b)("li",{parentName:"ul"},"Suffix: ); ?>")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Name: fbtTransform"),Object(l.b)("li",{parentName:"ul"},"Has parameters: no")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Name: endFbtTransform"),Object(l.b)("li",{parentName:"ul"},"Has parameters: no")),Object(l.b)("p",null,Object(l.b)("img",{alt:"Blade directives settings in PhpStorm",src:n(148).default})))}s.isMDXComponent=!0},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),s=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,b=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=s(n),u=a,d=p["".concat(b,".").concat(u)]||p[u]||m[u]||l;return n?r.a.createElement(d,i(i({ref:t},c),{},{components:n})):r.a.createElement(d,i({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,b=new Array(l);b[0]=u;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:a,b[1]=i;for(var c=2;c<l;c++)b[c]=n[c];return r.a.createElement.apply(null,b)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);