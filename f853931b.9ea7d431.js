(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{78:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return p}));var a=n(1),r=n(6),i=(n(0),n(87)),o={id:"api_intro",title:"The FBT API",sidebar_label:"Introduction"},l={unversionedId:"api_intro",id:"api_intro",isDocsHomePage:!1,title:"The FBT API",description:'The fbt framework has two (mostly) equivalent APIs: A HTML-style ` tag API and a "vanilla" or "functional" fbt(...) API that more closely resembles standard PHP.  In general, you can compose your translatable text in either format.  As the following example illustrates, the child of the  tag shows up as the first argument to fbt and any attributes show up in the optional third argument parameter.  The desc (text description) argument is the exception to this rule because it is a required parameter and attribute in fbt(...) and ` respectively.',source:"@site/..\\docs\\api_intro.md",slug:"/api_intro",permalink:"/fbt/docs/api_intro",version:"current",lastUpdatedBy:"Richard Dobro\u0148",lastUpdatedAt:1659727267,sidebar_label:"Introduction",sidebar:"docs",previous:{title:"Platform Internationalization Best Practices",permalink:"/fbt/docs/best_practices"},next:{title:"Parameters and interpolation",permalink:"/fbt/docs/params"}},b=[{value:"HTML <code>&lt;fbt /&gt;</code> API",id:"html-fbt--api",children:[{value:"Required attributes",id:"required-attributes",children:[]},{value:"Optional attributes",id:"optional-attributes",children:[]}]},{value:"&quot;Vanilla&quot; <code>fbt(...)</code> API",id:"vanilla-fbt-api",children:[]},{value:"Docblock defaults",id:"docblock-defaults",children:[]}],c={rightToc:b};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The fbt framework has two (mostly) equivalent APIs: A HTML-style ",Object(i.b)("inlineCode",{parentName:"p"},"<fbt>"),' tag API and a "vanilla" or "functional" ',Object(i.b)("inlineCode",{parentName:"p"},"fbt(...)")," API that more closely resembles standard PHP.  In general, you can compose your translatable text in either format.  As the following example illustrates, the child of the ",Object(i.b)("inlineCode",{parentName:"p"},"<fbt>")," tag shows up as the first argument to ",Object(i.b)("inlineCode",{parentName:"p"},"fbt")," and any attributes show up in the optional third argument parameter.  The ",Object(i.b)("inlineCode",{parentName:"p"},"desc")," (text description) argument is the exception to this rule because it is a ",Object(i.b)("em",{parentName:"p"},"required")," parameter and attribute in ",Object(i.b)("inlineCode",{parentName:"p"},"fbt(...)")," and ",Object(i.b)("inlineCode",{parentName:"p"},"<fbt>")," respectively."),Object(i.b)("p",null,"Let's start with a simple example:"),Object(i.b)("h2",{id:"html-fbt--api"},"HTML ",Object(i.b)("inlineCode",{parentName:"h2"},"<fbt />")," API"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"NOTE: You can use this method only if you use the ",Object(i.b)("inlineCode",{parentName:"strong"},"fbtTransform")," + ",Object(i.b)("inlineCode",{parentName:"strong"},"endFbtTransform")," functions or by using ",Object(i.b)("inlineCode",{parentName:"strong"},"FbtTransform::transform(...)"))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'<fbt project="foo" desc="a simple example">\n  Hello, World!\n</fbt>\n')),Object(i.b)("h3",{id:"required-attributes"},"Required attributes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"desc"),": description of text to be translated")),Object(i.b)("h3",{id:"optional-attributes"},"Optional attributes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"author")," ",Object(i.b)("inlineCode",{parentName:"li"},"string"),": Text author"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"project")," ",Object(i.b)("inlineCode",{parentName:"li"},"string"),": Project to which the text belongs"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"preserveWhitespace")," ",Object(i.b)("inlineCode",{parentName:"li"},"bool"),": (Default: ",Object(i.b)("inlineCode",{parentName:"li"},"false"),")",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"FBT normally consolidates whitespace down to one space (",Object(i.b)("inlineCode",{parentName:"li"},"' '"),")."),Object(i.b)("li",{parentName:"ul"},"Turn this off by setting this to ",Object(i.b)("inlineCode",{parentName:"li"},"true")))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"subject")," ",Object(i.b)("inlineCode",{parentName:"li"},"IntlVariations::GENDER_*"),": Pass an ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/implicit_params"}),"implicit subject")," gender to a partially formed text"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"common")," ",Object(i.b)("inlineCode",{parentName:"li"},"bool"),': Use a "common" string repository'),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"doNotExtract")," ",Object(i.b)("inlineCode",{parentName:"li"},"bool"),": Informs ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/collection"}),"collection")," to skip this string (useful for tests/mocks)")),Object(i.b)("hr",null),Object(i.b)("h2",{id:"vanilla-fbt-api"},'"Vanilla" ',Object(i.b)("inlineCode",{parentName:"h2"},"fbt(...)")," API"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),"fbt('Hello, World', 'a simple example', ['project' => \"foo\"])\n")),Object(i.b)("h4",{id:"required-arguments"},"Required arguments"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Text to translate"),Object(i.b)("li",{parentName:"ol"},"Description of text to be translated")),Object(i.b)("h4",{id:"optional-parameters"},"Optional parameters"),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"Options object - same optional arguments as the ",Object(i.b)("inlineCode",{parentName:"li"},"<fbt>")," ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/fbt/docs/api_intro#optional-attributes"}),"attributes above"))),Object(i.b)("hr",null),Object(i.b)("h2",{id:"docblock-defaults"},"Docblock defaults"),Object(i.b)("p",null,"Defaults for the above optional attributes may be provided in the\ndocblock with the ",Object(i.b)("inlineCode",{parentName:"p"},"@fbt")," pragma.  It uses a straight ",Object(i.b)("inlineCode",{parentName:"p"},"json_decode")," to\ninterpret this, so you'll have to make sure your object is parseable. (i.e. keys should be wrapped in ",Object(i.b)("inlineCode",{parentName:"p"},'"double quotes"'),")"),Object(i.b)("p",null,"E.g."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-php"}),'<?php\n/**\n * @fbt {"author": "me", "project": "awesome sauce"}\n */\n')))}p.isMDXComponent=!0},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),p=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=p(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),s=p(n),d=a,m=s["".concat(o,".").concat(d)]||s[d]||u[d]||i;return n?r.a.createElement(m,l(l({ref:t},c),{},{components:n})):r.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var b in t)hasOwnProperty.call(t,b)&&(l[b]=t[b]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);